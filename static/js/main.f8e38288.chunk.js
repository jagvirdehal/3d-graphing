(this["webpackJsonp4d-graphing"]=this["webpackJsonp4d-graphing"]||[]).push([[0],{31:function(e,t,r){},34:function(e,t,r){},38:function(e,t,r){},39:function(e,t,r){"use strict";r.r(t);var a=r(0),c=r.n(a),n=r(22),s=r.n(n),o=(r(31),r(6)),u=r(4),j=r(23),i=r(2),b=!1;var l=r(3);function d(e){var t,r;return t=Math.acos(e.x/Math.sqrt(Math.pow(e.x,2)+Math.pow(e.z,2))),e.z<0&&(t*=-1),[0,t=t?-t:0,r=(r=Math.acos(e.y/Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2)+Math.pow(e.z,2))))?-r:0]}var O=function(e){var t=Object(a.useRef)(),r=Object(a.useRef)(),c=Object(l.jsx)("meshStandardMaterial",{color:e.color}),n=e.target,s=Object(o.a)(n,3),j=s[0],b=s[1],O=s[2],h=new i.Vector3(b,O,j),p=Object(a.useState)(d(h)),v=Object(o.a)(p,2),f=v[0],x=v[1],g=Object(a.useState)(e.size?e.size:.15),m=Object(o.a)(g,2),M=m[0],y=(m[1],Object(a.useState)(Math.sqrt(Math.pow(h.x,2)+Math.pow(h.y,2)+Math.pow(h.z,2)))),w=Object(o.a)(y,2),N=w[0],V=w[1];Object(a.useEffect)((function(){var t=e.target,r=Object(o.a)(t,3);j=r[0],b=r[1],O=r[2],h=new i.Vector3(b,O,j),x(d(h)),V(Math.sqrt(Math.pow(h.x,2)+Math.pow(h.y,2)+Math.pow(h.z,2)))}),[e.target]);var T=e.mesh&&e.mesh.head?e.mesh.head:[],S=e.mesh&&e.mesh.body?e.mesh.body:[];return Object(l.jsx)("group",Object(u.a)(Object(u.a)({},e),{},{children:Object(l.jsxs)("group",{rotation:f,children:[Object(l.jsxs)("mesh",Object(u.a)(Object(u.a)({},T),{},{ref:t,position:[0,N-M,0],children:[Object(l.jsx)("coneBufferGeometry",{args:[M,2*M,32]}),c]})),Object(l.jsxs)("mesh",Object(u.a)(Object(u.a)({},S),{},{ref:r,position:[0,N/2-M,0],children:[Object(l.jsx)("cylinderBufferGeometry",{args:[M/2,M/2,N-2*M,32]}),c]}))]})}))},h=Object(j.a)((function(e){return{vectorMap:new Map([["v1",{target:[1,1,1],name:"v1"}]]),vectors:[],addVector:function(t){e((function(e){return e.refresh(),{vectorMap:e.vectorMap.set(t.name,t)}}))},updateVector:function(t,r){e((function(e){return e.refresh(),{vectorMap:e.vectorMap.set(t,r)}}))},refresh:function(){e((function(e){return{vectors:Array.from(e.vectorMap.values()).map((function(e){return Object(l.jsx)(O,Object(u.a)({},e))}))}}))}}}));function p(e){return Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},className:"header-buttons",children:[Object(l.jsx)("button",{onClick:e.handleAdd,children:"Add"}),Object(l.jsx)("button",{children:"Edit"})]})}function v(e){var t=function(e){var t=parseInt(e.currentTarget.value);t<-99?e.currentTarget.value=-99:t>99&&(e.currentTarget.value=99)},r=function(r){!function(e){var t=parseInt(e.currentTarget.value);e.currentTarget.value=t,Number.isNaN(t)&&(e.currentTarget.value=0)}(r),t(r),e.updateVector(r)};return Object(l.jsx)("input",Object(u.a)(Object(u.a)({},e),{},{style:{width:"5ch",height:"4ch"},onKeyPress:function(e){var t=e.key.charCodeAt(0),a=t>=48&&t<=57;"-"==e.key&&(e.currentTarget.value=-1*parseInt(e.currentTarget.value),r(e)),a||e.preventDefault()},onWheel:function(r){!function(e){var t=parseInt(e.currentTarget.value);e.deltaY<0?e.currentTarget.value=t+1:e.deltaY>0&&(e.currentTarget.value=t-1)}(r),t(r),e.updateVector(r)},onChange:r,defaultValue:e.value}))}function f(e){var t=h.getState().vectorMap.get(e.name),r=(null===t||void 0===t?void 0:t.target)?t.target:[0,0,0],c=h((function(e){return e.updateVector})),n=Object(a.useState)(r[0]),s=Object(o.a)(n,2),u=s[0],j=s[1],i=Object(a.useState)(r[1]),b=Object(o.a)(i,2),d=b[0],O=b[1],p=Object(a.useState)(r[2]),f=Object(o.a)(p,2),x=f[0],g=f[1];if(void 0===t)return Object(l.jsx)("span",{});var m=t;m.target=[u,d,x],c(e.name,m);var M=function(e,t){t(parseInt(e.currentTarget.value))};return Object(l.jsxs)("div",{className:"vector-input",children:[Object(l.jsx)("hr",{}),Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",margin:"0 10px"},children:[Object(l.jsxs)("span",{className:"label",children:[e.name?e.name.toUpperCase():"V *"," "]}),Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},className:"number-input-group",children:[Object(l.jsx)(v,{className:"x-coord",value:u,updateVector:function(e){return M(e,j)}}),Object(l.jsx)(v,{className:"y-coord",value:d,updateVector:function(e){return M(e,O)}}),Object(l.jsx)(v,{className:"z-coord",value:x,updateVector:function(e){return M(e,g)}})]}),Object(l.jsx)("button",{children:"Color"})]})]})}r(34);var x=function(){var e=h.getState().vectorMap,t=Array.from(e.values()).map((function(e){return e.name})),r=Object(a.useState)(t),c=Object(o.a)(r,2),n=c[0],s=c[1],u=n.map((function(e){return Object(l.jsx)(f,{name:e})})),j=h((function(e){return e.addVector}));return Object(l.jsxs)("div",{className:"sidebar",children:[Object(l.jsx)(p,{handleAdd:function(e){var t="v".concat(n.length+1);j({target:[0,0,1],name:t}),s(n.slice().concat([t]))}}),u]})},g=r(12),m=r(24);Object(g.b)({OrbitControls:m.a});var M=function(e){var t=Object(g.d)(),r=t.camera,c=t.gl.domElement,n=Object(a.useRef)();return Object(g.c)((function(e){n.current&&(n.current.update(),n.current.autoRotate=b)})),Object(l.jsx)("orbitControls",{ref:n,args:[r,c]})};var y=function(){var e=h((function(e){return e.vectors}));return Object(l.jsx)("group",{children:e})};var w=function(){return Object(l.jsx)("div",{className:"scene",children:Object(l.jsxs)(g.a,{children:[Object(l.jsxs)("group",{rotation:[0,0,0],children:[Object(l.jsx)("axesHelper",{scale:[5,5,3],rotation:[-Math.PI/2,0,-Math.PI/2]}),Object(l.jsx)("gridHelper",{}),Object(l.jsx)(O,{target:[3,0,0],name:"v1"}),Object(l.jsx)(y,{})]}),Object(l.jsx)("ambientLight",{}),Object(l.jsx)("pointLight",{position:[10,10,10]}),Object(l.jsx)(M,{})]})})};r(38);var N=function(){return Object(l.jsxs)("div",{className:"app",children:[Object(l.jsx)(x,{}),Object(l.jsx)(w,{})]})};s.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(N,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.f8e38288.chunk.js.map